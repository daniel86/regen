<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>regen: regen::VideoEncoder Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">regen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('de/d48/classregen_1_1_video_encoder.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../da/da2/classregen_1_1_video_encoder-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">regen::VideoEncoder Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Encodes video frames into a video stream.  
 <a href="../../de/d48/classregen_1_1_video_encoder.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d4c/classregen_1_1_video_encoder_1_1_error.html">Error</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An error occurred during stream processing.  <a href="../../db/d4c/classregen_1_1_video_encoder_1_1_error.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab903a823e595c849ae094f3e3d7625ca" id="r_ab903a823e595c849ae094f3e3d7625ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#ab903a823e595c849ae094f3e3d7625ca">VideoEncoder</a> (unsigned int <a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#a48461ff0c4978061252d8de54c537571">width</a>, unsigned int <a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#a533b89442bd9bc80eb11bbf5184f1d8b">height</a>)</td></tr>
<tr class="memdesc:ab903a823e595c849ae094f3e3d7625ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new video encoder.  <br /></td></tr>
<tr class="separator:ab903a823e595c849ae094f3e3d7625ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb3a7afe95c245c332d30f027bc59cc9" id="r_aeb3a7afe95c245c332d30f027bc59cc9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#aeb3a7afe95c245c332d30f027bc59cc9">~VideoEncoder</a> ()</td></tr>
<tr class="separator:aeb3a7afe95c245c332d30f027bc59cc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48461ff0c4978061252d8de54c537571" id="r_a48461ff0c4978061252d8de54c537571"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#a48461ff0c4978061252d8de54c537571">width</a> () const</td></tr>
<tr class="separator:a48461ff0c4978061252d8de54c537571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a533b89442bd9bc80eb11bbf5184f1d8b" id="r_a533b89442bd9bc80eb11bbf5184f1d8b"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#a533b89442bd9bc80eb11bbf5184f1d8b">height</a> () const</td></tr>
<tr class="separator:a533b89442bd9bc80eb11bbf5184f1d8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07d90161eef63694e2e8b3262c4976b2" id="r_a07d90161eef63694e2e8b3262c4976b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#a07d90161eef63694e2e8b3262c4976b2">setOutputStream</a> (AVStream *stream, AVFormatContext *formatCtx, AVCodecContext *codecCtx)</td></tr>
<tr class="memdesc:a07d90161eef63694e2e8b3262c4976b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the output stream for the video encoder.  <br /></td></tr>
<tr class="separator:a07d90161eef63694e2e8b3262c4976b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0186562156f0a4ed1ebb3ecb0ee5e716" id="r_a0186562156f0a4ed1ebb3ecb0ee5e716"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#a0186562156f0a4ed1ebb3ecb0ee5e716">setFramesPerSecond</a> (unsigned int <a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#ac15c28d175bb664149f30e5e0d277122">fps</a>)</td></tr>
<tr class="memdesc:a0186562156f0a4ed1ebb3ecb0ee5e716"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the frames per second for the video.  <br /></td></tr>
<tr class="separator:a0186562156f0a4ed1ebb3ecb0ee5e716"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac15c28d175bb664149f30e5e0d277122" id="r_ac15c28d175bb664149f30e5e0d277122"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#ac15c28d175bb664149f30e5e0d277122">fps</a> () const</td></tr>
<tr class="separator:ac15c28d175bb664149f30e5e0d277122"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8db4ba2ee05f830f06ef58755077959" id="r_ab8db4ba2ee05f830f06ef58755077959"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#ab8db4ba2ee05f830f06ef58755077959">finalizeEncoding</a> ()</td></tr>
<tr class="memdesc:ab8db4ba2ee05f830f06ef58755077959"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalizes the encoding process.  <br /></td></tr>
<tr class="separator:ab8db4ba2ee05f830f06ef58755077959"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1b0678e2bbb06bbda3b2d21531c1a51" id="r_ab1b0678e2bbb06bbda3b2d21531c1a51"><td class="memItemLeft" align="right" valign="top">GLubyte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#ab1b0678e2bbb06bbda3b2d21531c1a51">reserveFrame</a> ()</td></tr>
<tr class="separator:ab1b0678e2bbb06bbda3b2d21531c1a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d61abb60a53c94df4c2cb7516657060" id="r_a2d61abb60a53c94df4c2cb7516657060"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#a2d61abb60a53c94df4c2cb7516657060">freeFrame</a> (GLubyte *frame)</td></tr>
<tr class="memdesc:a2d61abb60a53c94df4c2cb7516657060"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the memory of a frame.  <br /></td></tr>
<tr class="separator:a2d61abb60a53c94df4c2cb7516657060"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ff6f78ff2d8b57e08c78fe5a09b8328" id="r_a2ff6f78ff2d8b57e08c78fe5a09b8328"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#a2ff6f78ff2d8b57e08c78fe5a09b8328">encodeNextFrame</a> ()</td></tr>
<tr class="memdesc:a2ff6f78ff2d8b57e08c78fe5a09b8328"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes the next frame.  <br /></td></tr>
<tr class="separator:a2ff6f78ff2d8b57e08c78fe5a09b8328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af902ad82a1994e4b71830f6e885c2c26" id="r_af902ad82a1994e4b71830f6e885c2c26"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#af902ad82a1994e4b71830f6e885c2c26">encodeFrame</a> (const GLubyte *frameData, double dt_seconds)</td></tr>
<tr class="memdesc:af902ad82a1994e4b71830f6e885c2c26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes a frame.  <br /></td></tr>
<tr class="separator:af902ad82a1994e4b71830f6e885c2c26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca08371385e12d3606577a9b36223155" id="r_aca08371385e12d3606577a9b36223155"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#aca08371385e12d3606577a9b36223155">pushFrame</a> (GLubyte *frame, double dt)</td></tr>
<tr class="memdesc:aca08371385e12d3606577a9b36223155"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pushes a frame to the encoder.  <br /></td></tr>
<tr class="separator:aca08371385e12d3606577a9b36223155"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a35066290eee40f39d846223813aa7a2c" id="r_a35066290eee40f39d846223813aa7a2c"><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#a35066290eee40f39d846223813aa7a2c">encodingLock_</a></td></tr>
<tr class="separator:a35066290eee40f39d846223813aa7a2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a326e1f15ea158247c2bfca2853fca6ab" id="r_a326e1f15ea158247c2bfca2853fca6ab"><td class="memItemLeft" align="right" valign="top">boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#a326e1f15ea158247c2bfca2853fca6ab">poolLock_</a></td></tr>
<tr class="separator:a326e1f15ea158247c2bfca2853fca6ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0b059b3bdc161ae220d28d540237fa9" id="r_ab0b059b3bdc161ae220d28d540237fa9"><td class="memItemLeft" align="right" valign="top">AVFormatContext *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#ab0b059b3bdc161ae220d28d540237fa9">formatCtx_</a> = nullptr</td></tr>
<tr class="separator:ab0b059b3bdc161ae220d28d540237fa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31a8fc14ee61d5a2716e481fa1355559" id="r_a31a8fc14ee61d5a2716e481fa1355559"><td class="memItemLeft" align="right" valign="top">AVCodecContext *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">codecCtx_</a> = nullptr</td></tr>
<tr class="separator:a31a8fc14ee61d5a2716e481fa1355559"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71d2d8ff048afec279080f5c338159cf" id="r_a71d2d8ff048afec279080f5c338159cf"><td class="memItemLeft" align="right" valign="top">struct SwsContext *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#a71d2d8ff048afec279080f5c338159cf">swsCtx_</a> = nullptr</td></tr>
<tr class="separator:a71d2d8ff048afec279080f5c338159cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae3581c6e7ee6e6b1526d4e30db8a0c3" id="r_aae3581c6e7ee6e6b1526d4e30db8a0c3"><td class="memItemLeft" align="right" valign="top">AVStream *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#aae3581c6e7ee6e6b1526d4e30db8a0c3">stream_</a> = nullptr</td></tr>
<tr class="separator:aae3581c6e7ee6e6b1526d4e30db8a0c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af27a78c0baf1834b532cd9e656bde49b" id="r_af27a78c0baf1834b532cd9e656bde49b"><td class="memItemLeft" align="right" valign="top">AVFrame *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#af27a78c0baf1834b532cd9e656bde49b">frame_</a> = nullptr</td></tr>
<tr class="separator:af27a78c0baf1834b532cd9e656bde49b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af847b2636751ec04b5d173c8b7a9efab" id="r_af847b2636751ec04b5d173c8b7a9efab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#af847b2636751ec04b5d173c8b7a9efab">width_</a></td></tr>
<tr class="separator:af847b2636751ec04b5d173c8b7a9efab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40282915e728dcca1e3103b33909bf80" id="r_a40282915e728dcca1e3103b33909bf80"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#a40282915e728dcca1e3103b33909bf80">height_</a></td></tr>
<tr class="separator:a40282915e728dcca1e3103b33909bf80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b5587ecb542d860994005e1911a30f5" id="r_a9b5587ecb542d860994005e1911a30f5"><td class="memItemLeft" align="right" valign="top">std::queue&lt; std::pair&lt; GLubyte *, double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#a9b5587ecb542d860994005e1911a30f5">encodedFrames_</a></td></tr>
<tr class="separator:a9b5587ecb542d860994005e1911a30f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4df2f1557cfe396e4339bbe725499dca" id="r_a4df2f1557cfe396e4339bbe725499dca"><td class="memItemLeft" align="right" valign="top">std::vector&lt; GLubyte * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#a4df2f1557cfe396e4339bbe725499dca">framePool_</a></td></tr>
<tr class="separator:a4df2f1557cfe396e4339bbe725499dca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a6c2feec0a7269aecfd58670cbc0e49" id="r_a6a6c2feec0a7269aecfd58670cbc0e49"><td class="memItemLeft" align="right" valign="top">AVPacket *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#a6a6c2feec0a7269aecfd58670cbc0e49">pkt_</a> = nullptr</td></tr>
<tr class="separator:a6a6c2feec0a7269aecfd58670cbc0e49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ffed89517030cd20332b90d1955e173" id="r_a0ffed89517030cd20332b90d1955e173"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#a0ffed89517030cd20332b90d1955e173">cumulativeTime_</a> = 0.0</td></tr>
<tr class="separator:a0ffed89517030cd20332b90d1955e173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da45985ffe81de9e753b9f0c8a08b6b" id="r_a3da45985ffe81de9e753b9f0c8a08b6b"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#a3da45985ffe81de9e753b9f0c8a08b6b">fps_</a> = 40</td></tr>
<tr class="separator:a3da45985ffe81de9e753b9f0c8a08b6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40ce51439cb8c5c08884ec722f265ebb" id="r_a40ce51439cb8c5c08884ec722f265ebb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html#a40ce51439cb8c5c08884ec722f265ebb">isActive_</a> = true</td></tr>
<tr class="separator:a40ce51439cb8c5c08884ec722f265ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Encodes video frames into a video stream. </p>

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00022">22</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab903a823e595c849ae094f3e3d7625ca" name="ab903a823e595c849ae094f3e3d7625ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab903a823e595c849ae094f3e3d7625ca">&#9670;&#160;</a></span>VideoEncoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VideoEncoder::VideoEncoder </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new video encoder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>the width of the video. </td></tr>
    <tr><td class="paramname">height</td><td>the height of the video. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d49/video-encoder_8cpp_source.html#l00012">12</a> of file <a class="el" href="../../d5/d49/video-encoder_8cpp_source.html">video-encoder.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   13</span>        : <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#af847b2636751ec04b5d173c8b7a9efab">width_</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="../../de/d48/classregen_1_1_video_encoder.html#a48461ff0c4978061252d8de54c537571">width</a>)),</div>
<div class="line"><span class="lineno">   14</span>          <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a40282915e728dcca1e3103b33909bf80">height_</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="../../de/d48/classregen_1_1_video_encoder.html#a533b89442bd9bc80eb11bbf5184f1d8b">height</a>)) {</div>
<div class="line"><span class="lineno">   15</span>    <span class="comment">// create two initial frames</span></div>
<div class="line"><span class="lineno">   16</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 2; ++i) {</div>
<div class="line"><span class="lineno">   17</span>        <span class="keyword">auto</span> *frame = <span class="keyword">new</span> GLubyte[<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#af847b2636751ec04b5d173c8b7a9efab">width_</a> * <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a40282915e728dcca1e3103b33909bf80">height_</a> * 3];</div>
<div class="line"><span class="lineno">   18</span>        <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a4df2f1557cfe396e4339bbe725499dca">framePool_</a>.push_back(frame);</div>
<div class="line"><span class="lineno">   19</span>    }</div>
<div class="line"><span class="lineno">   20</span>}</div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_a40282915e728dcca1e3103b33909bf80"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#a40282915e728dcca1e3103b33909bf80">regen::VideoEncoder::height_</a></div><div class="ttdeci">int height_</div><div class="ttdef"><b>Definition</b> <a href="../../da/d84/video-encoder_8h_source.html#l00115">video-encoder.h:115</a></div></div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_a48461ff0c4978061252d8de54c537571"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#a48461ff0c4978061252d8de54c537571">regen::VideoEncoder::width</a></div><div class="ttdeci">auto width() const</div><div class="ttdef"><b>Definition</b> <a href="../../da/d84/video-encoder_8h_source.html#l00047">video-encoder.h:47</a></div></div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_a4df2f1557cfe396e4339bbe725499dca"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#a4df2f1557cfe396e4339bbe725499dca">regen::VideoEncoder::framePool_</a></div><div class="ttdeci">std::vector&lt; GLubyte * &gt; framePool_</div><div class="ttdef"><b>Definition</b> <a href="../../da/d84/video-encoder_8h_source.html#l00118">video-encoder.h:118</a></div></div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_a533b89442bd9bc80eb11bbf5184f1d8b"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#a533b89442bd9bc80eb11bbf5184f1d8b">regen::VideoEncoder::height</a></div><div class="ttdeci">auto height() const</div><div class="ttdef"><b>Definition</b> <a href="../../da/d84/video-encoder_8h_source.html#l00052">video-encoder.h:52</a></div></div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_af847b2636751ec04b5d173c8b7a9efab"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#af847b2636751ec04b5d173c8b7a9efab">regen::VideoEncoder::width_</a></div><div class="ttdeci">int width_</div><div class="ttdef"><b>Definition</b> <a href="../../da/d84/video-encoder_8h_source.html#l00114">video-encoder.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb3a7afe95c245c332d30f027bc59cc9" name="aeb3a7afe95c245c332d30f027bc59cc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb3a7afe95c245c332d30f027bc59cc9">&#9670;&#160;</a></span>~VideoEncoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VideoEncoder::~VideoEncoder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d49/video-encoder_8cpp_source.html#l00022">22</a> of file <a class="el" href="../../d5/d49/video-encoder_8cpp_source.html">video-encoder.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   22</span>                            {</div>
<div class="line"><span class="lineno">   23</span>    boost::lock_guard&lt;boost::mutex&gt; lock1(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a326e1f15ea158247c2bfca2853fca6ab">poolLock_</a>);</div>
<div class="line"><span class="lineno">   24</span>    boost::lock_guard&lt;boost::mutex&gt; lock2(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a35066290eee40f39d846223813aa7a2c">encodingLock_</a>);</div>
<div class="line"><span class="lineno">   25</span>    <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a40ce51439cb8c5c08884ec722f265ebb">isActive_</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   26</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *frame: <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a4df2f1557cfe396e4339bbe725499dca">framePool_</a>) {</div>
<div class="line"><span class="lineno">   27</span>        <span class="keyword">delete</span>[] frame;</div>
<div class="line"><span class="lineno">   28</span>    }</div>
<div class="line"><span class="lineno">   29</span>    <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a4df2f1557cfe396e4339bbe725499dca">framePool_</a>.clear();</div>
<div class="line"><span class="lineno">   30</span>    sws_freeContext(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a71d2d8ff048afec279080f5c338159cf">swsCtx_</a>);</div>
<div class="line"><span class="lineno">   31</span>    av_frame_free(&amp;<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#af27a78c0baf1834b532cd9e656bde49b">frame_</a>);</div>
<div class="line"><span class="lineno">   32</span>    av_packet_free(&amp;<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a6a6c2feec0a7269aecfd58670cbc0e49">pkt_</a>);</div>
<div class="line"><span class="lineno">   33</span>}</div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_a326e1f15ea158247c2bfca2853fca6ab"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#a326e1f15ea158247c2bfca2853fca6ab">regen::VideoEncoder::poolLock_</a></div><div class="ttdeci">boost::mutex poolLock_</div><div class="ttdef"><b>Definition</b> <a href="../../da/d84/video-encoder_8h_source.html#l00108">video-encoder.h:108</a></div></div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_a35066290eee40f39d846223813aa7a2c"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#a35066290eee40f39d846223813aa7a2c">regen::VideoEncoder::encodingLock_</a></div><div class="ttdeci">boost::mutex encodingLock_</div><div class="ttdef"><b>Definition</b> <a href="../../da/d84/video-encoder_8h_source.html#l00107">video-encoder.h:107</a></div></div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_a40ce51439cb8c5c08884ec722f265ebb"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#a40ce51439cb8c5c08884ec722f265ebb">regen::VideoEncoder::isActive_</a></div><div class="ttdeci">bool isActive_</div><div class="ttdef"><b>Definition</b> <a href="../../da/d84/video-encoder_8h_source.html#l00123">video-encoder.h:123</a></div></div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_a6a6c2feec0a7269aecfd58670cbc0e49"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#a6a6c2feec0a7269aecfd58670cbc0e49">regen::VideoEncoder::pkt_</a></div><div class="ttdeci">AVPacket * pkt_</div><div class="ttdef"><b>Definition</b> <a href="../../da/d84/video-encoder_8h_source.html#l00119">video-encoder.h:119</a></div></div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_a71d2d8ff048afec279080f5c338159cf"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#a71d2d8ff048afec279080f5c338159cf">regen::VideoEncoder::swsCtx_</a></div><div class="ttdeci">struct SwsContext * swsCtx_</div><div class="ttdef"><b>Definition</b> <a href="../../da/d84/video-encoder_8h_source.html#l00111">video-encoder.h:111</a></div></div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_af27a78c0baf1834b532cd9e656bde49b"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#af27a78c0baf1834b532cd9e656bde49b">regen::VideoEncoder::frame_</a></div><div class="ttdeci">AVFrame * frame_</div><div class="ttdef"><b>Definition</b> <a href="../../da/d84/video-encoder_8h_source.html#l00113">video-encoder.h:113</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af902ad82a1994e4b71830f6e885c2c26" name="af902ad82a1994e4b71830f6e885c2c26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af902ad82a1994e4b71830f6e885c2c26">&#9670;&#160;</a></span>encodeFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VideoEncoder::encodeFrame </td>
          <td>(</td>
          <td class="paramtype">const GLubyte *&#160;</td>
          <td class="paramname"><em>frameData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dt_seconds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encodes a frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frameData</td><td>the frame data to encode. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d49/video-encoder_8cpp_source.html#l00089">89</a> of file <a class="el" href="../../d5/d49/video-encoder_8cpp_source.html">video-encoder.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   89</span>                                                                          {</div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordtype">int</span> srcStride[] = {3 * <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">codecCtx_</a>-&gt;width};</div>
<div class="line"><span class="lineno">   91</span>    <span class="comment">// flip the frame vertically</span></div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordtype">int</span> srcStrideFlipped[] = {-srcStride[0]};</div>
<div class="line"><span class="lineno">   93</span>    <span class="keyword">const</span> uint8_t *srcSliceFlipped[] = {frameData + (<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">codecCtx_</a>-&gt;height - 1) * srcStride[0]};</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>    <span class="comment">// convert to YUV420P</span></div>
<div class="line"><span class="lineno">   96</span>    sws_scale(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a71d2d8ff048afec279080f5c338159cf">swsCtx_</a>,</div>
<div class="line"><span class="lineno">   97</span>              srcSliceFlipped,</div>
<div class="line"><span class="lineno">   98</span>              srcStrideFlipped,</div>
<div class="line"><span class="lineno">   99</span>              0, <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">codecCtx_</a>-&gt;height,</div>
<div class="line"><span class="lineno">  100</span>              <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#af27a78c0baf1834b532cd9e656bde49b">frame_</a>-&gt;data,</div>
<div class="line"><span class="lineno">  101</span>              <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#af27a78c0baf1834b532cd9e656bde49b">frame_</a>-&gt;linesize);</div>
<div class="line"><span class="lineno">  102</span>    <span class="comment">// set the frame&#39;s timestamp</span></div>
<div class="line"><span class="lineno">  103</span>    <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#af27a78c0baf1834b532cd9e656bde49b">frame_</a>-&gt;pts = <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a0ffed89517030cd20332b90d1955e173">cumulativeTime_</a> * 1000);</div>
<div class="line"><span class="lineno">  104</span>    <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a0ffed89517030cd20332b90d1955e173">cumulativeTime_</a> += dt_seconds;</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>    <span class="comment">// Send the frame to the encoder</span></div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordflow">if</span> (avcodec_send_frame(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">codecCtx_</a>, <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#af27a78c0baf1834b532cd9e656bde49b">frame_</a>) &lt; 0) {</div>
<div class="line"><span class="lineno">  108</span>        <span class="keywordflow">throw</span> Error(<span class="stringliteral">&quot;Error sending frame to codec context&quot;</span>);</div>
<div class="line"><span class="lineno">  109</span>    }</div>
<div class="line"><span class="lineno">  110</span>    <span class="comment">// Receive the packet from the encoder</span></div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">while</span> (avcodec_receive_packet(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">codecCtx_</a>, <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a6a6c2feec0a7269aecfd58670cbc0e49">pkt_</a>) == 0) {</div>
<div class="line"><span class="lineno">  112</span>        <span class="comment">// Rescale the packet&#39;s timestamp</span></div>
<div class="line"><span class="lineno">  113</span>        av_packet_rescale_ts(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a6a6c2feec0a7269aecfd58670cbc0e49">pkt_</a>, <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">codecCtx_</a>-&gt;time_base, <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#aae3581c6e7ee6e6b1526d4e30db8a0c3">stream_</a>-&gt;time_base);</div>
<div class="line"><span class="lineno">  114</span>        <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a6a6c2feec0a7269aecfd58670cbc0e49">pkt_</a>-&gt;stream_index = <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#aae3581c6e7ee6e6b1526d4e30db8a0c3">stream_</a>-&gt;index;</div>
<div class="line"><span class="lineno">  115</span>        <span class="comment">// Write the packet to the file</span></div>
<div class="line"><span class="lineno">  116</span>        <span class="keywordflow">if</span> (av_interleaved_write_frame(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#ab0b059b3bdc161ae220d28d540237fa9">formatCtx_</a>, <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a6a6c2feec0a7269aecfd58670cbc0e49">pkt_</a>) &lt; 0) {</div>
<div class="line"><span class="lineno">  117</span>            <span class="keywordflow">throw</span> Error(<span class="stringliteral">&quot;Error writing frame&quot;</span>);</div>
<div class="line"><span class="lineno">  118</span>        }</div>
<div class="line"><span class="lineno">  119</span>        av_packet_unref(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a6a6c2feec0a7269aecfd58670cbc0e49">pkt_</a>);</div>
<div class="line"><span class="lineno">  120</span>    }</div>
<div class="line"><span class="lineno">  121</span>}</div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_a0ffed89517030cd20332b90d1955e173"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#a0ffed89517030cd20332b90d1955e173">regen::VideoEncoder::cumulativeTime_</a></div><div class="ttdeci">double cumulativeTime_</div><div class="ttdef"><b>Definition</b> <a href="../../da/d84/video-encoder_8h_source.html#l00120">video-encoder.h:120</a></div></div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_a31a8fc14ee61d5a2716e481fa1355559"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">regen::VideoEncoder::codecCtx_</a></div><div class="ttdeci">AVCodecContext * codecCtx_</div><div class="ttdef"><b>Definition</b> <a href="../../da/d84/video-encoder_8h_source.html#l00110">video-encoder.h:110</a></div></div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_aae3581c6e7ee6e6b1526d4e30db8a0c3"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#aae3581c6e7ee6e6b1526d4e30db8a0c3">regen::VideoEncoder::stream_</a></div><div class="ttdeci">AVStream * stream_</div><div class="ttdef"><b>Definition</b> <a href="../../da/d84/video-encoder_8h_source.html#l00112">video-encoder.h:112</a></div></div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_ab0b059b3bdc161ae220d28d540237fa9"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#ab0b059b3bdc161ae220d28d540237fa9">regen::VideoEncoder::formatCtx_</a></div><div class="ttdeci">AVFormatContext * formatCtx_</div><div class="ttdef"><b>Definition</b> <a href="../../da/d84/video-encoder_8h_source.html#l00109">video-encoder.h:109</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ff6f78ff2d8b57e08c78fe5a09b8328" name="a2ff6f78ff2d8b57e08c78fe5a09b8328"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ff6f78ff2d8b57e08c78fe5a09b8328">&#9670;&#160;</a></span>encodeNextFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VideoEncoder::encodeNextFrame </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encodes the next frame. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d49/video-encoder_8cpp_source.html#l00123">123</a> of file <a class="el" href="../../d5/d49/video-encoder_8cpp_source.html">video-encoder.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  123</span>                                   {</div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a40ce51439cb8c5c08884ec722f265ebb">isActive_</a>) {</div>
<div class="line"><span class="lineno">  125</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  126</span>    }</div>
<div class="line"><span class="lineno">  127</span>    GLubyte *frame = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  128</span>    <span class="keywordtype">double</span> dt = 0.0;</div>
<div class="line"><span class="lineno">  129</span>    {</div>
<div class="line"><span class="lineno">  130</span>        boost::lock_guard&lt;boost::mutex&gt; lock(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a35066290eee40f39d846223813aa7a2c">encodingLock_</a>);</div>
<div class="line"><span class="lineno">  131</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a9b5587ecb542d860994005e1911a30f5">encodedFrames_</a>.empty()) {</div>
<div class="line"><span class="lineno">  132</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  133</span>        }</div>
<div class="line"><span class="lineno">  134</span>        <span class="keyword">auto</span> pair = <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a9b5587ecb542d860994005e1911a30f5">encodedFrames_</a>.front();</div>
<div class="line"><span class="lineno">  135</span>        frame = pair.first;</div>
<div class="line"><span class="lineno">  136</span>        dt = pair.second;</div>
<div class="line"><span class="lineno">  137</span>        <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a9b5587ecb542d860994005e1911a30f5">encodedFrames_</a>.pop();</div>
<div class="line"><span class="lineno">  138</span>    }</div>
<div class="line"><span class="lineno">  139</span>    <a class="code hl_function" href="../../de/d48/classregen_1_1_video_encoder.html#af902ad82a1994e4b71830f6e885c2c26">encodeFrame</a>(frame, dt);</div>
<div class="line"><span class="lineno">  140</span>    <a class="code hl_function" href="../../de/d48/classregen_1_1_video_encoder.html#a2d61abb60a53c94df4c2cb7516657060">freeFrame</a>(frame);</div>
<div class="line"><span class="lineno">  141</span>}</div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_a2d61abb60a53c94df4c2cb7516657060"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#a2d61abb60a53c94df4c2cb7516657060">regen::VideoEncoder::freeFrame</a></div><div class="ttdeci">void freeFrame(GLubyte *frame)</div><div class="ttdoc">Frees the memory of a frame.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d49/video-encoder_8cpp_source.html#l00079">video-encoder.cpp:79</a></div></div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_a9b5587ecb542d860994005e1911a30f5"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#a9b5587ecb542d860994005e1911a30f5">regen::VideoEncoder::encodedFrames_</a></div><div class="ttdeci">std::queue&lt; std::pair&lt; GLubyte *, double &gt; &gt; encodedFrames_</div><div class="ttdef"><b>Definition</b> <a href="../../da/d84/video-encoder_8h_source.html#l00117">video-encoder.h:117</a></div></div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_af902ad82a1994e4b71830f6e885c2c26"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#af902ad82a1994e4b71830f6e885c2c26">regen::VideoEncoder::encodeFrame</a></div><div class="ttdeci">void encodeFrame(const GLubyte *frameData, double dt_seconds)</div><div class="ttdoc">Encodes a frame.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d49/video-encoder_8cpp_source.html#l00089">video-encoder.cpp:89</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab8db4ba2ee05f830f06ef58755077959" name="ab8db4ba2ee05f830f06ef58755077959"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8db4ba2ee05f830f06ef58755077959">&#9670;&#160;</a></span>finalizeEncoding()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VideoEncoder::finalizeEncoding </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finalizes the encoding process. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d49/video-encoder_8cpp_source.html#l00143">143</a> of file <a class="el" href="../../d5/d49/video-encoder_8cpp_source.html">video-encoder.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  143</span>                                    {</div>
<div class="line"><span class="lineno">  144</span>    <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a40ce51439cb8c5c08884ec722f265ebb">isActive_</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>    avcodec_send_frame(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">codecCtx_</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  147</span>    <span class="keywordflow">while</span> (avcodec_receive_packet(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">codecCtx_</a>, <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a6a6c2feec0a7269aecfd58670cbc0e49">pkt_</a>) == 0) {</div>
<div class="line"><span class="lineno">  148</span>        av_packet_rescale_ts(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a6a6c2feec0a7269aecfd58670cbc0e49">pkt_</a>, <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">codecCtx_</a>-&gt;time_base, <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#aae3581c6e7ee6e6b1526d4e30db8a0c3">stream_</a>-&gt;time_base);</div>
<div class="line"><span class="lineno">  149</span>        <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a6a6c2feec0a7269aecfd58670cbc0e49">pkt_</a>-&gt;stream_index = <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#aae3581c6e7ee6e6b1526d4e30db8a0c3">stream_</a>-&gt;index;</div>
<div class="line"><span class="lineno">  150</span>        av_interleaved_write_frame(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#ab0b059b3bdc161ae220d28d540237fa9">formatCtx_</a>, <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a6a6c2feec0a7269aecfd58670cbc0e49">pkt_</a>);</div>
<div class="line"><span class="lineno">  151</span>        av_packet_unref(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a6a6c2feec0a7269aecfd58670cbc0e49">pkt_</a>);</div>
<div class="line"><span class="lineno">  152</span>    }</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>    av_write_trailer(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#ab0b059b3bdc161ae220d28d540237fa9">formatCtx_</a>);</div>
<div class="line"><span class="lineno">  155</span>    <span class="keywordflow">if</span> (!(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#ab0b059b3bdc161ae220d28d540237fa9">formatCtx_</a>-&gt;oformat-&gt;flags &amp; AVFMT_NOFILE)) {</div>
<div class="line"><span class="lineno">  156</span>        avio_closep(&amp;<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#ab0b059b3bdc161ae220d28d540237fa9">formatCtx_</a>-&gt;pb);</div>
<div class="line"><span class="lineno">  157</span>    }</div>
<div class="line"><span class="lineno">  158</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac15c28d175bb664149f30e5e0d277122" name="ac15c28d175bb664149f30e5e0d277122"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac15c28d175bb664149f30e5e0d277122">&#9670;&#160;</a></span>fps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto regen::VideoEncoder::fps </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the frames per second for the video. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00071">71</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   71</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a3da45985ffe81de9e753b9f0c8a08b6b">fps_</a>; }</div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_a3da45985ffe81de9e753b9f0c8a08b6b"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#a3da45985ffe81de9e753b9f0c8a08b6b">regen::VideoEncoder::fps_</a></div><div class="ttdeci">unsigned int fps_</div><div class="ttdef"><b>Definition</b> <a href="../../da/d84/video-encoder_8h_source.html#l00121">video-encoder.h:121</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d61abb60a53c94df4c2cb7516657060" name="a2d61abb60a53c94df4c2cb7516657060"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d61abb60a53c94df4c2cb7516657060">&#9670;&#160;</a></span>freeFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VideoEncoder::freeFrame </td>
          <td>(</td>
          <td class="paramtype">GLubyte *&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees the memory of a frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>the frame to free. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d49/video-encoder_8cpp_source.html#l00079">79</a> of file <a class="el" href="../../d5/d49/video-encoder_8cpp_source.html">video-encoder.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   79</span>                                           {</div>
<div class="line"><span class="lineno">   80</span>    boost::lock_guard&lt;boost::mutex&gt; lock(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a326e1f15ea158247c2bfca2853fca6ab">poolLock_</a>);</div>
<div class="line"><span class="lineno">   81</span>    <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a4df2f1557cfe396e4339bbe725499dca">framePool_</a>.push_back(frame);</div>
<div class="line"><span class="lineno">   82</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a533b89442bd9bc80eb11bbf5184f1d8b" name="a533b89442bd9bc80eb11bbf5184f1d8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a533b89442bd9bc80eb11bbf5184f1d8b">&#9670;&#160;</a></span>height()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto regen::VideoEncoder::height </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the height of the video. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00052">52</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   52</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a40282915e728dcca1e3103b33909bf80">height_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aca08371385e12d3606577a9b36223155" name="aca08371385e12d3606577a9b36223155"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca08371385e12d3606577a9b36223155">&#9670;&#160;</a></span>pushFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VideoEncoder::pushFrame </td>
          <td>(</td>
          <td class="paramtype">GLubyte *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pushes a frame to the encoder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>the frame to push. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d49/video-encoder_8cpp_source.html#l00084">84</a> of file <a class="el" href="../../d5/d49/video-encoder_8cpp_source.html">video-encoder.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   84</span>                                                              {</div>
<div class="line"><span class="lineno">   85</span>    boost::lock_guard&lt;boost::mutex&gt; lock(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a35066290eee40f39d846223813aa7a2c">encodingLock_</a>);</div>
<div class="line"><span class="lineno">   86</span>    <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a9b5587ecb542d860994005e1911a30f5">encodedFrames_</a>.emplace(frame, dt_seconds);</div>
<div class="line"><span class="lineno">   87</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab1b0678e2bbb06bbda3b2d21531c1a51" name="ab1b0678e2bbb06bbda3b2d21531c1a51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1b0678e2bbb06bbda3b2d21531c1a51">&#9670;&#160;</a></span>reserveFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GLubyte * VideoEncoder::reserveFrame </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>a frame with allocated memory. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d49/video-encoder_8cpp_source.html#l00066">66</a> of file <a class="el" href="../../d5/d49/video-encoder_8cpp_source.html">video-encoder.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   66</span>                                    {</div>
<div class="line"><span class="lineno">   67</span>    {</div>
<div class="line"><span class="lineno">   68</span>        boost::lock_guard&lt;boost::mutex&gt; lock(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a326e1f15ea158247c2bfca2853fca6ab">poolLock_</a>);</div>
<div class="line"><span class="lineno">   69</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a4df2f1557cfe396e4339bbe725499dca">framePool_</a>.empty()) {</div>
<div class="line"><span class="lineno">   70</span>            <span class="keyword">auto</span> *frame = <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a4df2f1557cfe396e4339bbe725499dca">framePool_</a>.back();</div>
<div class="line"><span class="lineno">   71</span>            <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a4df2f1557cfe396e4339bbe725499dca">framePool_</a>.pop_back();</div>
<div class="line"><span class="lineno">   72</span>            <span class="keywordflow">return</span> frame;</div>
<div class="line"><span class="lineno">   73</span>        }</div>
<div class="line"><span class="lineno">   74</span>    }</div>
<div class="line"><span class="lineno">   75</span>    <span class="keyword">auto</span> *frame = <span class="keyword">new</span> GLubyte[<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#af847b2636751ec04b5d173c8b7a9efab">width_</a> * <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a40282915e728dcca1e3103b33909bf80">height_</a> * 3];</div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordflow">return</span> frame;</div>
<div class="line"><span class="lineno">   77</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0186562156f0a4ed1ebb3ecb0ee5e716" name="a0186562156f0a4ed1ebb3ecb0ee5e716"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0186562156f0a4ed1ebb3ecb0ee5e716">&#9670;&#160;</a></span>setFramesPerSecond()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void regen::VideoEncoder::setFramesPerSecond </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>fps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the frames per second for the video. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fps</td><td>the frames per second. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00066">66</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   66</span>{ <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a3da45985ffe81de9e753b9f0c8a08b6b">fps_</a> = <a class="code hl_function" href="../../de/d48/classregen_1_1_video_encoder.html#ac15c28d175bb664149f30e5e0d277122">fps</a>; }</div>
<div class="ttc" id="aclassregen_1_1_video_encoder_html_ac15c28d175bb664149f30e5e0d277122"><div class="ttname"><a href="../../de/d48/classregen_1_1_video_encoder.html#ac15c28d175bb664149f30e5e0d277122">regen::VideoEncoder::fps</a></div><div class="ttdeci">auto fps() const</div><div class="ttdef"><b>Definition</b> <a href="../../da/d84/video-encoder_8h_source.html#l00071">video-encoder.h:71</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a07d90161eef63694e2e8b3262c4976b2" name="a07d90161eef63694e2e8b3262c4976b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07d90161eef63694e2e8b3262c4976b2">&#9670;&#160;</a></span>setOutputStream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VideoEncoder::setOutputStream </td>
          <td>(</td>
          <td class="paramtype">AVStream *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AVFormatContext *&#160;</td>
          <td class="paramname"><em>formatCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AVCodecContext *&#160;</td>
          <td class="paramname"><em>codecCtx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the output stream for the video encoder. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>the stream to write to. </td></tr>
    <tr><td class="paramname">formatCtx</td><td>the format context. </td></tr>
    <tr><td class="paramname">codecCtx</td><td>the codec context. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/d49/video-encoder_8cpp_source.html#l00035">35</a> of file <a class="el" href="../../d5/d49/video-encoder_8cpp_source.html">video-encoder.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   35</span>                                                                                                         {</div>
<div class="line"><span class="lineno">   36</span>    <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#aae3581c6e7ee6e6b1526d4e30db8a0c3">stream_</a> = stream;</div>
<div class="line"><span class="lineno">   37</span>    <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#ab0b059b3bdc161ae220d28d540237fa9">formatCtx_</a> = formatCtx;</div>
<div class="line"><span class="lineno">   38</span>    <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">codecCtx_</a> = codecCtx;</div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>    <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a6a6c2feec0a7269aecfd58670cbc0e49">pkt_</a> = av_packet_alloc();</div>
<div class="line"><span class="lineno">   41</span>    <span class="comment">// create a frame, it will be filled with pushed frame data</span></div>
<div class="line"><span class="lineno">   42</span>    <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#af27a78c0baf1834b532cd9e656bde49b">frame_</a> = av_frame_alloc();</div>
<div class="line"><span class="lineno">   43</span>    <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#af27a78c0baf1834b532cd9e656bde49b">frame_</a>-&gt;format = <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">codecCtx_</a>-&gt;pix_fmt;</div>
<div class="line"><span class="lineno">   44</span>    <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#af27a78c0baf1834b532cd9e656bde49b">frame_</a>-&gt;width = <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">codecCtx_</a>-&gt;width;</div>
<div class="line"><span class="lineno">   45</span>    <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#af27a78c0baf1834b532cd9e656bde49b">frame_</a>-&gt;height = <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">codecCtx_</a>-&gt;height;</div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordflow">if</span> (av_frame_get_buffer(<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#af27a78c0baf1834b532cd9e656bde49b">frame_</a>, 32) &lt; 0) {</div>
<div class="line"><span class="lineno">   47</span>        <span class="keywordflow">throw</span> Error(<span class="stringliteral">&quot;Could not allocate frame buffer&quot;</span>);</div>
<div class="line"><span class="lineno">   48</span>    }</div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span>    <span class="comment">// create a context for conversion of GL_RGB pixel data to YUV420P</span></div>
<div class="line"><span class="lineno">   51</span>    <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a71d2d8ff048afec279080f5c338159cf">swsCtx_</a> = sws_getContext(</div>
<div class="line"><span class="lineno">   52</span>            <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">codecCtx_</a>-&gt;width, <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">codecCtx_</a>-&gt;height,</div>
<div class="line"><span class="lineno">   53</span>            <span class="comment">// input format is GL_RGB</span></div>
<div class="line"><span class="lineno">   54</span>            AV_PIX_FMT_RGB24,</div>
<div class="line"><span class="lineno">   55</span>            <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">codecCtx_</a>-&gt;width, <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">codecCtx_</a>-&gt;height,</div>
<div class="line"><span class="lineno">   56</span>            <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a31a8fc14ee61d5a2716e481fa1355559">codecCtx_</a>-&gt;pix_fmt,</div>
<div class="line"><span class="lineno">   57</span>            SWS_BILINEAR,</div>
<div class="line"><span class="lineno">   58</span>            <span class="keyword">nullptr</span>,</div>
<div class="line"><span class="lineno">   59</span>            <span class="keyword">nullptr</span>,</div>
<div class="line"><span class="lineno">   60</span>            <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">   61</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#a71d2d8ff048afec279080f5c338159cf">swsCtx_</a>) {</div>
<div class="line"><span class="lineno">   62</span>        <span class="keywordflow">throw</span> Error(<span class="stringliteral">&quot;Could not create sws context&quot;</span>);</div>
<div class="line"><span class="lineno">   63</span>    }</div>
<div class="line"><span class="lineno">   64</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a48461ff0c4978061252d8de54c537571" name="a48461ff0c4978061252d8de54c537571"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48461ff0c4978061252d8de54c537571">&#9670;&#160;</a></span>width()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto regen::VideoEncoder::width </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the width of the video. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00047">47</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   47</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../de/d48/classregen_1_1_video_encoder.html#af847b2636751ec04b5d173c8b7a9efab">width_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a31a8fc14ee61d5a2716e481fa1355559" name="a31a8fc14ee61d5a2716e481fa1355559"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31a8fc14ee61d5a2716e481fa1355559">&#9670;&#160;</a></span>codecCtx_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AVCodecContext* regen::VideoEncoder::codecCtx_ = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00110">110</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>

</div>
</div>
<a id="a0ffed89517030cd20332b90d1955e173" name="a0ffed89517030cd20332b90d1955e173"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ffed89517030cd20332b90d1955e173">&#9670;&#160;</a></span>cumulativeTime_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double regen::VideoEncoder::cumulativeTime_ = 0.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00120">120</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>

</div>
</div>
<a id="a9b5587ecb542d860994005e1911a30f5" name="a9b5587ecb542d860994005e1911a30f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b5587ecb542d860994005e1911a30f5">&#9670;&#160;</a></span>encodedFrames_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::queue&lt;std::pair&lt;GLubyte*,double&gt; &gt; regen::VideoEncoder::encodedFrames_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00117">117</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>

</div>
</div>
<a id="a35066290eee40f39d846223813aa7a2c" name="a35066290eee40f39d846223813aa7a2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35066290eee40f39d846223813aa7a2c">&#9670;&#160;</a></span>encodingLock_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex regen::VideoEncoder::encodingLock_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00107">107</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>

</div>
</div>
<a id="ab0b059b3bdc161ae220d28d540237fa9" name="ab0b059b3bdc161ae220d28d540237fa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0b059b3bdc161ae220d28d540237fa9">&#9670;&#160;</a></span>formatCtx_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AVFormatContext* regen::VideoEncoder::formatCtx_ = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00109">109</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>

</div>
</div>
<a id="a3da45985ffe81de9e753b9f0c8a08b6b" name="a3da45985ffe81de9e753b9f0c8a08b6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3da45985ffe81de9e753b9f0c8a08b6b">&#9670;&#160;</a></span>fps_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int regen::VideoEncoder::fps_ = 40</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00121">121</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>

</div>
</div>
<a id="af27a78c0baf1834b532cd9e656bde49b" name="af27a78c0baf1834b532cd9e656bde49b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af27a78c0baf1834b532cd9e656bde49b">&#9670;&#160;</a></span>frame_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AVFrame* regen::VideoEncoder::frame_ = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00113">113</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>

</div>
</div>
<a id="a4df2f1557cfe396e4339bbe725499dca" name="a4df2f1557cfe396e4339bbe725499dca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4df2f1557cfe396e4339bbe725499dca">&#9670;&#160;</a></span>framePool_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;GLubyte *&gt; regen::VideoEncoder::framePool_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00118">118</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>

</div>
</div>
<a id="a40282915e728dcca1e3103b33909bf80" name="a40282915e728dcca1e3103b33909bf80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40282915e728dcca1e3103b33909bf80">&#9670;&#160;</a></span>height_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int regen::VideoEncoder::height_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00115">115</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>

</div>
</div>
<a id="a40ce51439cb8c5c08884ec722f265ebb" name="a40ce51439cb8c5c08884ec722f265ebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40ce51439cb8c5c08884ec722f265ebb">&#9670;&#160;</a></span>isActive_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool regen::VideoEncoder::isActive_ = true</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00123">123</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>

</div>
</div>
<a id="a6a6c2feec0a7269aecfd58670cbc0e49" name="a6a6c2feec0a7269aecfd58670cbc0e49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a6c2feec0a7269aecfd58670cbc0e49">&#9670;&#160;</a></span>pkt_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AVPacket* regen::VideoEncoder::pkt_ = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00119">119</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>

</div>
</div>
<a id="a326e1f15ea158247c2bfca2853fca6ab" name="a326e1f15ea158247c2bfca2853fca6ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a326e1f15ea158247c2bfca2853fca6ab">&#9670;&#160;</a></span>poolLock_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::mutex regen::VideoEncoder::poolLock_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00108">108</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>

</div>
</div>
<a id="aae3581c6e7ee6e6b1526d4e30db8a0c3" name="aae3581c6e7ee6e6b1526d4e30db8a0c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae3581c6e7ee6e6b1526d4e30db8a0c3">&#9670;&#160;</a></span>stream_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AVStream* regen::VideoEncoder::stream_ = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00112">112</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>

</div>
</div>
<a id="a71d2d8ff048afec279080f5c338159cf" name="a71d2d8ff048afec279080f5c338159cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71d2d8ff048afec279080f5c338159cf">&#9670;&#160;</a></span>swsCtx_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct SwsContext* regen::VideoEncoder::swsCtx_ = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00111">111</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>

</div>
</div>
<a id="af847b2636751ec04b5d173c8b7a9efab" name="af847b2636751ec04b5d173c8b7a9efab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af847b2636751ec04b5d173c8b7a9efab">&#9670;&#160;</a></span>width_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int regen::VideoEncoder::width_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../da/d84/video-encoder_8h_source.html#l00114">114</a> of file <a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/runner/work/regen/regen/regen/av/<a class="el" href="../../da/d84/video-encoder_8h_source.html">video-encoder.h</a></li>
<li>/home/runner/work/regen/regen/regen/av/<a class="el" href="../../d5/d49/video-encoder_8cpp_source.html">video-encoder.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d1/dc3/namespaceregen.html">regen</a></li><li class="navelem"><a class="el" href="../../de/d48/classregen_1_1_video_encoder.html">VideoEncoder</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
